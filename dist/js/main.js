"use strict";!function(a){var t,n,i,o=a(window),r=o.width(),l=a(".header-sticky"),s=(a("html"),a("body")),e={googleMap:a("#google-map")};o.on("load",function(){a(".preloader-activate").removeClass("preloader-active")}),a(window).on("load",function(){setTimeout(function(){jQuery(".open_tm_preloader").addClass("loaded")},1e3)}),a(".has-children--multilevel-submenu").find(".submenu").length&&a(".has-children--multilevel-submenu").find(".submenu").each(function(){var e=a(this).offset().left,t=a(this).width();o.height();e+t<=o.width()-10||a(this).addClass("left")}),o.on("scroll",function(){var e=o.scrollTop(),t=l.height();320<=r&&(e<t?l.removeClass("is-sticky"):l.addClass("is-sticky"))}),t=a("#scroll-top"),n=0,(i=a(window)).on("scroll",function(){var e=a(this).scrollTop();!(n<e)&&200<i.scrollTop()?t.addClass("show"):t.removeClass("show"),n=e}),t.on("click",function(e){a("html, body").animate({scrollTop:0},600),e.preventDefault()}),a("#mobile-menu-trigger").on("click",function(){a("#mobile-menu-overlay").addClass("active"),s.addClass("no-overflow")}),a("#mobile-menu-close-trigger").on("click",function(){a("#mobile-menu-overlay").removeClass("active"),s.removeClass("no-overflow")}),a(".offcanvas-navigation--onepage ul li a").on("click",function(){a("#mobile-menu-overlay").removeClass("active"),s.removeClass("no-overflow")});var c=a(".offcanvas-navigation"),u=c.find(".sub-menu");u.parent().prepend('<span class="menu-expand"><i></i></span>'),u.slideUp(),c.on("click","li a, li .menu-expand",function(e){var t=a(this);t.parent().attr("class").match(/\b(menu-item-has-children|has-children|has-sub-menu)\b/)&&("#"===t.attr("href")||t.hasClass("menu-expand"))&&(e.preventDefault(),t.siblings("ul:visible").length?(t.parent("li").removeClass("active"),t.siblings("ul").slideUp()):(t.parent("li").addClass("active"),t.closest("li").siblings("li").removeClass("active").find("li").removeClass("active"),t.closest("li").siblings("li").find("ul:visible").slideUp(),t.siblings("ul").slideDown()))}),s.on("click",function(e){var t=e.target;a(t).is(".mobile-menu-overlay__inner")||a(t).parents().is(".mobile-menu-overlay__inner")||a(t).is("#mobile-menu-trigger")||a(t).is("#mobile-menu-trigger i")||(a("#mobile-menu-overlay").removeClass("active"),s.removeClass("no-overflow")),a(t).is(".search-overlay__inner")||a(t).parents().is(".search-overlay__inner")||a(t).is("#search-overlay-trigger")||a(t).is("#search-overlay-trigger i")||(a("#search-overlay").removeClass("active"),s.removeClass("no-overflow"))}),a("#search-overlay-trigger").on("click",function(){a("#search-overlay").addClass("active"),s.addClass("no-overflow")}),a("#search-close-trigger").on("click",function(){a("#search-overlay").removeClass("active"),s.removeClass("no-overflow")}),(new WOW).init(),e.googleMap.length&&e.googleMap.googleMap({styles:[]});new Swiper(".brand-logo-slider__container",{slidesPerView:5,loop:!0,speed:1e3,spaceBetween:30,autoplay:{delay:3e3},breakpoints:{1499:{slidesPerView:6},991:{slidesPerView:4},767:{slidesPerView:3},575:{slidesPerView:2}}});var d=document.querySelectorAll(".inputfile");Array.prototype.forEach.call(d,function(e){var n=e.nextElementSibling,i=n.innerHTML;e.addEventListener("change",function(e){var t="";(t=this.files&&1<this.files.length?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())?n.querySelector("span").innerHTML=t:n.innerHTML=i})});var v=document.querySelectorAll(".inputfilemodal");function m(e,t){a(e).is(":checked")?a(t).prop("disabled",!1):a(t).prop("disabled",!0)}Array.prototype.forEach.call(v,function(e){var n=e.nextElementSibling,i=n.innerHTML;e.addEventListener("change",function(e){var t="";(t=this.files&&1<this.files.length?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())?n.querySelector("span").innerHTML=t:n.innerHTML=i})}),a(".js-policy-1").on("click",function(){m(this,".form-btn-1")}),a(".js-policy-2").on("click",function(){m(this,".form-btn-2")}),a(".form").validate({submitHandler:function(e){var t=new FormData(a(".form")[0]),n=new XMLHttpRequest;n.open("POST","/send-main.php",!0);var i=document.querySelector(".contact-form__overlay-text");i.textContent="Заявка отправляется...";var o=document.querySelector(".contact-form__overlay");o.style.visibility="visible",o.style.opacity="1",n.onprogress=function(){},n.onload=function(){200===this.status?(i.textContent="Заявка успешно отправлена!",setTimeout(function(){o.style.visibility="hidden",o.style.opacity="0",e.reset(),a(".upload-text-reset").text("Прикрепить файл")},3e3)):404===this.status&&console.log("Some error")},n.onerror=function(){console.log("Some error")},n.send(t)},rules:{name:{required:!0},email:{required:!0,email:!0},phone:{required:!0}},messages:{name:{required:"Введите Ваше имя"},email:{required:"Введите адрес электронной почты",email:"Не корректный адрес"},phone:{required:"Введите Ваш телефон"}}}),a(".form-modal").validate({submitHandler:function(e){var t=new FormData(a(".form-modal")[0]),n=new XMLHttpRequest;n.open("POST","/send-main.php",!0);var i=document.querySelector(".modal-my__overlay-text");i.textContent="Заявка отправляется...";var o=document.querySelector(".modal-my__overlay");o.style.visibility="visible",o.style.opacity="1",n.onprogress=function(){},n.onload=function(){200===this.status?(i.textContent="Заявка успешно отправлена!",setTimeout(function(){o.style.visibility="hidden",o.style.opacity="0",e.reset(),a(".upload-text-reset").text("Прикрепить файл"),a(".modal").modal("hide")},3e3)):404===this.status&&console.log("Some error")},n.onerror=function(){console.log("Some error")},n.send(t)},rules:{name:{required:!0},email:{required:!0,email:!0},phone:{required:!0}},messages:{name:{required:"Введите Ваше имя"},email:{required:"Введите адрес электронной почты",email:"Не корректный адрес"},phone:{required:"Введите Ваш телефон"}}});var f=document.getElementsByClassName("js-selectNative")[0],p=document.getElementsByClassName("js-selectCustom")[0],h=p.children[0],g=p.children[1],y=Array.from(g.children),b=y.length,C=(h.getAttribute("data-value"),""),w=-1;function L(){p.classList.remove("isActive"),p.setAttribute("aria-hidden",!0),k(-1),document.removeEventListener("click",S),document.removeEventListener("keydown",_)}function k(e){var t=g.children[w],n=g.children[e];t&&t.classList.remove("isHover"),n&&n.classList.add("isHover"),w=e}function q(e,t){var n=g.querySelector('[data-value="'.concat(C,'"')),i=g.querySelector('[data-value="'.concat(e,'"'));n&&n.classList.remove("isActive"),i&&i.classList.add("isActive"),h.innerHTML=t,C=e}function S(e){p.contains(event.target)||L()}function _(e){var t,n;40===event.keyCode&&w<b-1&&(e.preventDefault(),k(w+1)),38===event.keyCode&&0<w&&(e.preventDefault(),k(w-1)),13!==event.keyCode&&32!==event.keyCode||(e.preventDefault(),(n=(t=g.children[w])&&t.getAttribute("data-value"))&&q(f.value=n,t.textContent),L()),27===event.keyCode&&L()}h.addEventListener("click",function(e){(!p.classList.contains("isActive")?function(){{p.classList.add("isActive"),p.setAttribute("aria-hidden",!1),C&&k(y.findIndex(function(e){return e.getAttribute("data-value")===C}))}document.addEventListener("click",S),document.addEventListener("keydown",_)}:L)()}),f.addEventListener("change",function(e){var t=e.target.value;q(t,g.querySelectorAll('[data-value="'.concat(t,'"]'))[0].textContent)}),y.forEach(function(e,t){e.addEventListener("click",function(e){var t=e.target.getAttribute("data-value");q(f.value=t,e.target.innerHTML),L()}),e.addEventListener("mouseenter",function(e){k(t)})})}(jQuery);