"use strict";!function(a){var n=a(window),i=n.width(),o=a(".header-sticky"),l=(a("html"),a("body")),e={googleMap:a("#google-map")};n.on("load",function(){a(".preloader-activate").removeClass("preloader-active")}),a(window).on("load",function(){setTimeout(function(){jQuery(".open_tm_preloader").addClass("loaded")},1e3)});var t,r,s,c=(new Date).getFullYear(),u=document.getElementById("copyright-year");u&&(u.innerHTML=c),0<a("body #bx-panel").length&&a(".header-area--absolute").css({top:"40px"}),a(".popup-images").lightGallery(),a(".video-popup").lightGallery(),a(".has-children--multilevel-submenu").find(".submenu").length&&a(".has-children--multilevel-submenu").find(".submenu").each(function(){var e=a(this).offset().left,t=a(this).width();n.height();e+t<=n.width()-10||a(this).addClass("left")}),n.on("scroll",function(){var e=n.scrollTop(),t=o.height();320<=i&&(e<t?o.removeClass("is-sticky"):o.addClass("is-sticky"))}),t=a("#scroll-top"),r=0,(s=a(window)).on("scroll",function(){var e=a(this).scrollTop();!(r<e)&&200<s.scrollTop()?t.addClass("show"):t.removeClass("show"),r=e}),t.on("click",function(e){a("html, body").animate({scrollTop:0},600),e.preventDefault()}),a("#mobile-menu-trigger").on("click",function(){a("#mobile-menu-overlay").addClass("active"),l.addClass("no-overflow")}),a("#mobile-menu-close-trigger").on("click",function(){a("#mobile-menu-overlay").removeClass("active"),l.removeClass("no-overflow")}),a(".offcanvas-navigation--onepage ul li a").on("click",function(){a("#mobile-menu-overlay").removeClass("active"),l.removeClass("no-overflow")});var d=a(".offcanvas-navigation"),v=d.find(".sub-menu");v.parent().prepend('<span class="menu-expand"><i></i></span>'),v.slideUp(),d.on("click","li a, li .menu-expand",function(e){var t=a(this);t.parent().attr("class").match(/\b(menu-item-has-children|has-children|has-sub-menu)\b/)&&("#"===t.attr("href")||t.hasClass("menu-expand"))&&(e.preventDefault(),t.siblings("ul:visible").length?(t.parent("li").removeClass("active"),t.siblings("ul").slideUp()):(t.parent("li").addClass("active"),t.closest("li").siblings("li").removeClass("active").find("li").removeClass("active"),t.closest("li").siblings("li").find("ul:visible").slideUp(),t.siblings("ul").slideDown()))}),l.on("click",function(e){var t=e.target;a(t).is(".mobile-menu-overlay__inner")||a(t).parents().is(".mobile-menu-overlay__inner")||a(t).is("#mobile-menu-trigger")||a(t).is("#mobile-menu-trigger i")||(a("#mobile-menu-overlay").removeClass("active"),l.removeClass("no-overflow")),a(t).is(".search-overlay__inner")||a(t).parents().is(".search-overlay__inner")||a(t).is("#search-overlay-trigger")||a(t).is("#search-overlay-trigger i")||(a("#search-overlay").removeClass("active"),l.removeClass("no-overflow"))}),a("#search-overlay-trigger").on("click",function(){a("#search-overlay").addClass("active"),l.addClass("no-overflow")}),a("#search-close-trigger").on("click",function(){a("#search-overlay").removeClass("active"),l.removeClass("no-overflow")}),(new WOW).init(),a(".collapse").on("show.bs.collapse",function(){a(this).parent().addClass("active")}),a(".collapse").on("hide.bs.collapse",function(){a(this).parent().removeClass("active")}),e.googleMap.length&&e.googleMap.googleMap({styles:[]});new Swiper(".brand-logo-slider__container",{slidesPerView:5,loop:!0,speed:1e3,spaceBetween:30,autoplay:{delay:3e3},breakpoints:{1499:{slidesPerView:6},991:{slidesPerView:4},767:{slidesPerView:3},575:{slidesPerView:2}}});var m=document.querySelectorAll(".inputfile");Array.prototype.forEach.call(m,function(e){var n=e.nextElementSibling,i=n.innerHTML;e.addEventListener("change",function(e){var t="";(t=this.files&&1<this.files.length?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())?n.querySelector("span").innerHTML=t:n.innerHTML=i})});var p=document.querySelectorAll(".inputfilemodal");function h(e,t){a(e).is(":checked")?a(t).prop("disabled",!1):a(t).prop("disabled",!0)}Array.prototype.forEach.call(p,function(e){var n=e.nextElementSibling,i=n.innerHTML;e.addEventListener("change",function(e){var t="";(t=this.files&&1<this.files.length?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())?n.querySelector("span").innerHTML=t:n.innerHTML=i})}),a(".js-policy-1").on("click",function(){h(this,".form-btn-1")}),a(".js-policy-2").on("click",function(){h(this,".form-btn-2")}),a(".form").validate({submitHandler:function(e){var t=new FormData(a(".form")[0]),n=new XMLHttpRequest;n.open("POST","/send-main.php",!0);var i=document.querySelector(".contact-form__overlay-text");i.textContent="Заявка отправляется...";var o=document.querySelector(".contact-form__overlay");o.style.visibility="visible",o.style.opacity="1",n.onprogress=function(){},n.onload=function(){200===this.status?(i.textContent="Заявка успешно отправлена!",setTimeout(function(){o.style.visibility="hidden",o.style.opacity="0",e.reset(),a(".upload-text-reset").text("Прикрепить файл")},3e3)):404===this.status&&console.log("Some error")},n.onerror=function(){console.log("Some error")},n.send(t)},rules:{name:{required:!0},email:{required:!0,email:!0},phone:{required:!0}},messages:{name:{required:"Введите Ваше имя"},email:{required:"Введите адрес электронной почты",email:"Не корректный адрес"},phone:{required:"Введите Ваш телефон"}}}),a(".form-modal").validate({submitHandler:function(e){var t=new FormData(a(".form-modal")[0]),n=new XMLHttpRequest;n.open("POST","/send-main.php",!0);var i=document.querySelector(".modal-my__overlay-text");i.textContent="Заявка отправляется...";var o=document.querySelector(".modal-my__overlay");o.style.visibility="visible",o.style.opacity="1",n.onprogress=function(){},n.onload=function(){200===this.status?(i.textContent="Заявка успешно отправлена!",setTimeout(function(){o.style.visibility="hidden",o.style.opacity="0",e.reset(),a(".upload-text-reset").text("Прикрепить файл"),a(".modal").modal("hide")},3e3)):404===this.status&&console.log("Some error")},n.onerror=function(){console.log("Some error")},n.send(t)},rules:{name:{required:!0},email:{required:!0,email:!0},phone:{required:!0}},messages:{name:{required:"Введите Ваше имя"},email:{required:"Введите адрес электронной почты",email:"Не корректный адрес"},phone:{required:"Введите Ваш телефон"}}});var f=document.getElementsByClassName("js-selectNative")[0],g=document.getElementsByClassName("js-selectCustom")[0],y=g.children[0],b=g.children[1],C=Array.from(b.children),w=C.length,L=(y.getAttribute("data-value"),""),k=-1;function q(){g.classList.remove("isActive"),g.setAttribute("aria-hidden",!0),x(-1),document.removeEventListener("click",_),document.removeEventListener("keydown",A)}function x(e){var t=b.children[k],n=b.children[e];t&&t.classList.remove("isHover"),n&&n.classList.add("isHover"),k=e}function S(e,t){var n=b.querySelector('[data-value="'.concat(L,'"')),i=b.querySelector('[data-value="'.concat(e,'"'));n&&n.classList.remove("isActive"),i&&i.classList.add("isActive"),y.innerHTML=t,L=e}function _(e){g.contains(event.target)||q()}function A(e){var t,n;40===event.keyCode&&k<w-1&&(e.preventDefault(),x(k+1)),38===event.keyCode&&0<k&&(e.preventDefault(),x(k-1)),13!==event.keyCode&&32!==event.keyCode||(e.preventDefault(),(n=(t=b.children[k])&&t.getAttribute("data-value"))&&S(f.value=n,t.textContent),q()),27===event.keyCode&&q()}y.addEventListener("click",function(e){(!g.classList.contains("isActive")?function(){{g.classList.add("isActive"),g.setAttribute("aria-hidden",!1),L&&x(C.findIndex(function(e){return e.getAttribute("data-value")===L}))}document.addEventListener("click",_),document.addEventListener("keydown",A)}:q)()}),f.addEventListener("change",function(e){var t=e.target.value;S(t,b.querySelectorAll('[data-value="'.concat(t,'"]'))[0].textContent)}),C.forEach(function(e,t){e.addEventListener("click",function(e){var t=e.target.getAttribute("data-value");S(f.value=t,e.target.innerHTML),q()}),e.addEventListener("mouseenter",function(e){x(t)})})}(jQuery);